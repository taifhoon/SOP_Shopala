{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/taifh/Desktop/SOP_Shopala/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"@/plugins/axios\";\nexport default {\n  name: \"app\",\n  props: ['user'],\n  data: function data() {\n    return {\n      listProducts: [],\n      search: \"\",\n      orders: [],\n      sellerOrders: [],\n      sellerid: []\n    };\n  },\n  mounted: function mounted() {\n    window.scrollTo(0, 0); // this.getMovie();\n\n    this.getProducts();\n    this.getseller();\n  },\n  methods: {\n    getProducts: function getProducts() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this.sellerid = localStorage.getItem(\"sellerId\");\n                _context.next = 3;\n                return axios.get(\"http://localhost:8001/getProducts\").then(function (res) {\n                  _this.listProducts = res.data.filter(function (item) {\n                    return item.sellerId == localStorage.getItem(\"sellerId\");\n                  });\n                  console.log(_this.listProducts);\n                }).catch(function (error) {\n                  alert(error.response.data.message);\n                });\n\n              case 3:\n                _context.next = 5;\n                return axios.get(\"http://localhost:8002/getOrders\").then(function (res) {\n                  _this.orders = res.data;\n                }).catch(function (error) {\n                  alert(error.response.data.message);\n                });\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    buylink: function buylink() {\n      this.$router.push(\"/seller/order\");\n    },\n    allproductlink: function allproductlink() {\n      this.$router.push(\"/allproduct\");\n    },\n    addproductlink: function addproductlink() {\n      this.$router.push(\"/addproduct\");\n    },\n    getseller: function getseller() {\n      var _this2 = this;\n\n      axios.get(\"http://localhost:8004/getSellers\").then(function (res) {\n        _this2.sellerid = res.data.filter(function (item) {\n          return item._id == localStorage.getItem(\"sellerId\");\n        })[0];\n      }).catch(function (error) {\n        alert(error.response.data.message);\n      });\n    }\n  } // methods: {\n  //   getMovie() {\n  //     axios\n  //       .get(\"http://localhost:3000/\", {\n  //         params: {\n  //           search: this.search,\n  //           order: this.order,\n  //           theatre: this.theatre,\n  //         },\n  //       })\n  //       .then((response) => {\n  //         this.movie = response.data;\n  //         for (var i = 0; i < this.movie.length; i++) {\n  //           this.movie[i].show_date = new Date(this.movie[i].show_date).toDateString()\n  //         }\n  //       })\n  //       .catch((err) => {\n  //         console.log(err);\n  //       });\n  //   },\n  //   image(file_path){\n  //       if (file_path) {\n  //       return \"http://localhost:3000/\" + file_path;\n  //     } else {\n  //       return \"https://bulma.io/images/placeholders/640x360.png\";\n  //     }\n  //   },\n  //   isAdmin(){\n  //     if (!this.user) return false\n  //     return this.user.role == 'admin'\n  //   },\n  //   isCusto(){\n  //     if (!this.user) return false\n  //     return this.user.role == 'customer'\n  //   }\n  // },\n\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8GA;AACA;AACAA,aADA;AAEAC,iBAFA;AAGAC,MAHA,kBAGA;AACA;AACAC,sBADA;AAEAC,gBAFA;AAGAC,gBAHA;AAIAC,sBAJA;AAKAC;AALA;AAOA,GAXA;AAYAC,SAZA,qBAYA;AACAC,0BADA,CAEA;;AACA;AACA;AACA,GAjBA;AAkBAC;AACAC,eADA,yBACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA,uBAEAC,MACAC,GADA,sCAEAC,IAFA,CAEA;AACA;AACA;AACA,mBAFA;AAGAC;AACA,iBAPA,EAQAC,KARA,CAQA;AACAC;AACA,iBAVA,CAFA;;AAAA;AAAA;AAAA,uBAaAL,MACAC,GADA,oCAEAC,IAFA,CAEA;AACA;AACA,iBAJA,EAKAE,KALA,CAKA;AACAC;AACA,iBAPA,CAbA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAqBA,KAtBA;AAuBAC,WAvBA,qBAuBA;AACA;AACA,KAzBA;AA0BAC,kBA1BA,4BA0BA;AACA;AACA,KA5BA;AA6BAC,kBA7BA,4BA6BA;AACA;AACA,KA/BA;AAgCAC,aAhCA,uBAgCA;AAAA;;AACAT,YACAC,GADA,qCAEAC,IAFA,CAEA;AACA;AACA;AACA,SAFA,EAEA,CAFA;AAGA,OANA,EAOAE,KAPA,CAOA;AACAC;AACA,OATA;AAUA;AA3CA,GAlBA,CAgEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AApGA","names":["name","props","data","listProducts","search","orders","sellerOrders","sellerid","mounted","window","methods","getProducts","axios","get","then","console","catch","alert","buylink","allproductlink","addproductlink","getseller"],"sourceRoot":"src/views","sources":["SellerHome.vue"],"sourcesContent":["<template>\r\n\r\n    <body class='homepage'>\r\n            <div class=\"columns\">\r\n                <div class=\"column is-4\">  \r\n                    <p class=\"title is-4 has-text-left ml-6\">Welcome Back, {{sellerid.name}} !</p>\r\n                </div>\r\n            </div>\r\n        <div class=\"columns\">\r\n            <div class=\"column is-10 is-offset-1\">\r\n                <div class=\"box has-background-dark\">\r\n                    <p class=\"has-text-left has-text-light\">Seller Centre</p> <br><br><br>\r\n                    <div class=\"columns\">\r\n                        <div class=\"column is-2 is-offset-2\">\r\n                           <div class=\"box is-clickable\" @click=\"buylink()\">\r\n                                <p class=\"title is-4 pb-2\">+{{ orders.length }}</p>\r\n                                <p class=\"subtitle is-5\">คำสั่งซื้อ</p>\r\n\r\n                           </div>\r\n                        </div>\r\n                        <div class=\"column is-2 is-offset-1\" >\r\n                            <div class=\"box is-clickable\" @click=\"allproductlink()\">\r\n                                <p class=\"title is-4 pb-2\">+{{ listProducts.length }}</p>\r\n                                <p class=\"subtitle is-5\">สินค้าทั้งหมด</p>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"column is-2 is-offset-1\">\r\n                            <div class=\"box is-clickable\" @click=\"addproductlink()\">\r\n                                <p class=\"title is-4 pb-2\">+</p>\r\n                                <p class=\"subtitle is-5\">เพิ่มสินค้าใหม่</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!-- <div class=\"columns\">\r\n            <div class=\"menu column is-2 has-text-left box pl-5 pb-5 ml-6\">\r\n                <ul class=\"menu-list\">\r\n                    <li class=\"columns\">\r\n                    \r\n                        <img src=\"https://www.flaticon.com/svg/vstatic/svg/7653/7653156.svg?token=exp=1671293890~hmac=b081aa7e3e4a467a11d47d13bf21176d\"\r\n                            width=\"20\" alt=\"\" />\r\n                        <router-link class=\"card-footer-item has-text-dark\" id='button' to=\"/seller/order\">\r\n                            <a>คำสั่งซื้อ</a>\r\n                        </router-link>\r\n                    </li>\r\n                    <li>\r\n                        <div class=\"columns\">\r\n                            <img src=\"https://www.flaticon.com/svg/vstatic/svg/7857/7857224.svg?token=exp=1671294380~hmac=613477b99e0d5c23bc6017ecec6a49af\"\r\n                                width=\"20\" alt=\"\" />\r\n                            <a>สินค้า</a>\r\n                        </div>\r\n                        <ul>\r\n                            <router-link class=\"card-footer-item has-text-dark\" id='button' to=\"/allproduct\">\r\n                                <li><a>สินค้าของฉัน</a></li>\r\n                            </router-link>\r\n                            <router-link class=\"card-footer-item has-text-dark\" id='button' to=\"/addproduct\">\r\n                                <li><a>เพิ่มสินค้าใหม่</a></li>\r\n                            </router-link>\r\n                        </ul>\r\n                    </li>\r\n                    <li class=\"columns pt-2\">\r\n                        <img src=\"https://www.flaticon.com/svg/vstatic/svg/3914/3914461.svg?token=exp=1671294499~hmac=191fa3c7b6b838b48690c35aeb6c4a18\"\r\n                            width=\"20\" alt=\"\" />\r\n                        <a>การจัดส่ง</a>\r\n                    </li>\r\n                    <li class=\"columns\">\r\n                        <img src=\"https://www.flaticon.com/svg/vstatic/svg/3914/3914398.svg?token=exp=1671294692~hmac=f34539aa2aa41280ada4676a31338555\"\r\n                            width=\"20\" alt=\"\" />\r\n                        <a>บัญชีธนาคาร</a>\r\n                    </li>\r\n                    <li class=\"columns\">\r\n                        <img src=\"https://www.flaticon.com/svg/vstatic/svg/3916/3916657.svg?token=exp=1671294827~hmac=0d90afec368ea5b54113a7e559416d83\"\r\n                            width=\"20\" alt=\"\" />\r\n                        <a>รายละเอียดร้านค้า</a>\r\n                    </li>\r\n                    <li class=\"columns\">\r\n                        <img src=\"https://www.flaticon.com/svg/vstatic/svg/3917/3917058.svg?token=exp=1671294856~hmac=3859170f71278e2f079e55b4838ceb59\"\r\n                            width=\"20\" alt=\"\" />\r\n                        <a>การตั้งค่า</a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div class=\"column is-1\"></div>\r\n            <div class=\"column box pl-5 pt-5\">\r\n                <h1 class=\"row has-text-left\">รายการ</h1>\r\n                <div class=\"row\">\r\n                    <div class=\"columns\">\r\n                        <router-link class=\"card-footer-item has-text-dark\" id='button' to=\"/seller/order\">\r\n                            <a class=\"column\">\r\n                                <div>1</div>\r\n                                <div>คำสั่งซื้อ</div>\r\n                            </a>\r\n                        </router-link>\r\n                        <router-link class=\"card-footer-item has-text-dark\" id='button' to=\"/allproduct\">\r\n                            <a class=\"column\">\r\n                                <div>1</div>\r\n                                <div>สินค้าทั้งหมด</div>\r\n                            </a>\r\n                        </router-link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"column is-1\"></div>\r\n        </div> -->\r\n    </body>\r\n</template>\r\n  \r\n<script>\r\nimport axios from \"@/plugins/axios\";\r\nexport default {\r\n    name: \"app\",\r\n    props: ['user'],\r\n    data() {\r\n        return {\r\n            listProducts: [],\r\n            search: \"\",\r\n            orders:[],\r\n            sellerOrders:[],\r\n            sellerid:[]\r\n        };\r\n    },\r\n    mounted() {\r\n        window.scrollTo(0, 0)\r\n        // this.getMovie();\r\n        this.getProducts()\r\n        this.getseller()\r\n    },\r\n    methods: {\r\n        async getProducts() {\r\n            this.sellerid = localStorage.getItem(\"sellerId\")\r\n            await axios\r\n                .get(`http://localhost:8001/getProducts`)\r\n                .then((res) => {\r\n                    this.listProducts = res.data.filter(item => {\r\n                        return item.sellerId == localStorage.getItem(\"sellerId\")\r\n                    })\r\n                    console.log(this.listProducts)\r\n                })\r\n                .catch((error) => {\r\n                    alert(error.response.data.message)\r\n                });\r\n            await axios\r\n                .get(`http://localhost:8002/getOrders`)\r\n                .then((res) => {\r\n                    this.orders = res.data\r\n                })\r\n                .catch((error) => {\r\n                    alert(error.response.data.message)\r\n                });\r\n        },\r\n        buylink () {\r\n            this.$router.push(\"/seller/order\");\r\n        },\r\n        allproductlink () {\r\n            this.$router.push(\"/allproduct\");\r\n        },\r\n        addproductlink () {\r\n            this.$router.push(\"/addproduct\");\r\n        },\r\n        getseller() {\r\n            axios\r\n                .get(`http://localhost:8004/getSellers`)\r\n                .then((res) => {\r\n                    this.sellerid = res.data.filter(item => {\r\n                    return item._id == localStorage.getItem(\"sellerId\")\r\n          })[0]\r\n                })\r\n                .catch((error) => {\r\n                    alert(error.response.data.message)\r\n                });\r\n        }\r\n    },\r\n    \r\n    // methods: {\r\n    //   getMovie() {\r\n    //     axios\r\n    //       .get(\"http://localhost:3000/\", {\r\n    //         params: {\r\n    //           search: this.search,\r\n    //           order: this.order,\r\n    //           theatre: this.theatre,\r\n    //         },\r\n    //       })\r\n    //       .then((response) => {\r\n    //         this.movie = response.data;\r\n    //         for (var i = 0; i < this.movie.length; i++) {\r\n    //           this.movie[i].show_date = new Date(this.movie[i].show_date).toDateString()\r\n    //         }\r\n    //       })\r\n    //       .catch((err) => {\r\n    //         console.log(err);\r\n    //       });\r\n    //   },\r\n    //   image(file_path){\r\n    //       if (file_path) {\r\n    //       return \"http://localhost:3000/\" + file_path;\r\n    //     } else {\r\n    //       return \"https://bulma.io/images/placeholders/640x360.png\";\r\n    //     }\r\n    //   },\r\n    //   isAdmin(){\r\n    //     if (!this.user) return false\r\n    //     return this.user.role == 'admin'\r\n    //   },\r\n    //   isCusto(){\r\n    //     if (!this.user) return false\r\n    //     return this.user.role == 'customer'\r\n    //   }\r\n\r\n    // },\r\n};\r\n</script>\r\n<style>\r\n\r\n#card1 {\r\n    width: 100%;\r\n    background-color: rgb(213, 215, 218);\r\n    border-radius: 15px;\r\n    padding-top: 20px;\r\n\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}