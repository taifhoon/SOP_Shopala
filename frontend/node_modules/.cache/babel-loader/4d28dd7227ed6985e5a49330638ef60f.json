{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/taifh/Desktop/SOP_Shopala/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from '@/plugins/axios'; // import customerhome from \"./views/CustomerHome.vue\";\n\nexport default {\n  data: function data() {\n    return {\n      user: true,\n      customerId: null,\n      sellerId: null,\n      seller: {},\n      customer: {},\n      cusId: null,\n      selId: null // searchinput: customerhome.data().search = this.searchinput,\n\n    };\n  },\n  mounted: function mounted() {\n    this.getCustomers();\n    this.statelogin();\n    this.checkUser();\n  },\n  methods: {\n    getCustomers: function getCustomers() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this.sellerId = localStorage.getItem(\"sellerId\");\n                _this.customerId = localStorage.getItem(\"customerId\");\n                _context.next = 4;\n                return axios.get(\"http://localhost:8003/getCustomers\").then(function (res) {\n                  res.data.forEach(function (item) {\n                    if (item._id == _this.customerId) {\n                      _this.customer = item;\n                    }\n                  });\n                }).catch(function (error) {\n                  alert(error.response.data.message);\n                });\n\n              case 4:\n                _context.next = 6;\n                return axios.get(\"http://localhost:8004/getSellers\").then(function (res) {\n                  res.data.forEach(function (item) {\n                    if (item._id == _this.sellerId) {\n                      _this.seller = item;\n                    }\n                  });\n                }).catch(function (error) {\n                  alert(error.response.data.message);\n                });\n\n              case 6:\n                _this.checkUser();\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    checkUser: function checkUser() {\n      if (this.customerId == null && this.sellerId == null) {\n        this.user = null;\n      } else if (this.customerId != null) {\n        this.user = true;\n      } else if (this.sellerId != null) {\n        this.user = false;\n      }\n    },\n    logout: function logout() {\n      localStorage.removeItem(\"customerId\");\n      this.$router.push({\n        path: \"/user/login\"\n      });\n      location.reload();\n    },\n    sellerlogout: function sellerlogout() {\n      localStorage.removeItem(\"sellerId\");\n      this.$router.push({\n        path: \"/user/loginseller\"\n      });\n      location.reload();\n    } // statelogin(){\n    //   this.cusId = localStorage.getItem(\"customerId\")\n    //   this.selId = localStorage.getItem(\"sellerId\")\n    //   if(this.cusId == null){\n    //     alert(\"you are not login\")\n    //     this.$router.push({ path: \"/user/login\" })\n    //     this.selId = false\n    //   }\n    // }\n    // Search() {\n    //  customerhome.data().search = this.searchinput;\n    // }\n    // getOrderAndTicket(id){\n    //   axios.get(`/order/ticket/${id}`)\n    //     .then((res) => {\n    //       this.order = res.data.order;\n    //       var getOrder = res.data.order\n    //       this.orderLength = getOrder.length\n    //     });\n    // },\n    // onAuthChange() {\n    //   const token = localStorage.getItem(\"token\");\n    //   if (token) {\n    //     this.getUser();\n    //   }\n    // },\n    // getUser() {\n    //   axios.get(\"/user/me\")\n    //     .then((res) => {\n    //       this.user = res.data;\n    //       this.getOrderAndTicket(this.user.cid)\n    //       console.log(this.user.role)\n    //     });\n    // },\n    // logout(){\n    //   this.user = null,\n    //   localStorage.removeItem(\"token\");\n    //   this.$router.push({path: '/user/login'})\n    // },\n    // isAdmin(){\n    //   if (!this.user) return false\n    //   return this.user.role == 'admin'\n    // },\n    // isCusto(){\n    //   if (!this.user) return false\n    //   return this.user.role == 'customer'\n    // }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiJA,oC,CACA;;AACA;AACAA,MADA,kBACA;AACA;AACAC,gBADA;AAEAC,sBAFA;AAGAC,oBAHA;AAIAC,gBAJA;AAKAC,kBALA;AAMAC,iBANA;AAOAC,iBAPA,CAQA;;AARA;AAUA,GAZA;AAaAC,SAbA,qBAaA;AACA;AACA;AACA;AACA,GAjBA;AAkBAC;AACAC,gBADA,0BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA,uBAGAC,MACAC,GADA,uCAEAC,IAFA,CAEA;AACAC;AACA;AACA;AACA;AACA,mBAJA;AAKA,iBARA,EASAC,KATA,CASA;AACAC;AACA,iBAXA,CAHA;;AAAA;AAAA;AAAA,uBAeAL,MACAC,GADA,qCAEAC,IAFA,CAEA;AACAC;AACA;AACA;AACA;AACA,mBAJA;AAKA,iBARA,EASAC,KATA,CASA;AACAC;AACA,iBAXA,CAfA;;AAAA;AA2BA;;AA3BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA4BA,KA7BA;AA8BAC,aA9BA,uBA8BA;AACA;AACA;AACA,OAFA,MAGA;AACA;AACA,OAFA,MAGA;AACA;AACA;AAEA,KAzCA;AA0CAC,UA1CA,oBA0CA;AACAC;AACA;AAAAC;AAAA;AACAC;AACA,KA9CA;AA+CAC,gBA/CA,0BA+CA;AACAH;AACA;AAAAC;AAAA;AACAC;AACA,KAnDA,CAoDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAnGA;AAlBA","names":["data","user","customerId","sellerId","seller","customer","cusId","selId","mounted","methods","getCustomers","axios","get","then","res","catch","alert","checkUser","logout","localStorage","path","location","sellerlogout"],"sourceRoot":"src","sources":["App.vue"],"sourcesContent":["<script src=\"https://kit.fontawesome.com/8ec5a2efe1.js\" crossorigin=\"anonymous\"></script>\r\n<template>\r\n  <div id=\"wrapper\">\r\n    <link rel=\"shortcut icon\" type=\"image/png\" href=\"https://media.discordapp.net/attachments/1033283242121498625/1055520351569854474/logo_1.png\"/>\r\n    <div v-if=\"user == null || user == true\">\r\n      <nav class=\"navbar has-background-black\" role=\"navigation\" aria-label=\"main navigation\">\r\n        <div class=\"navbar-brand\">\r\n          <router-link to=\"/\" class=\"navbar-item has-background-black\">\r\n            <a class=\"navbar-item\"\r\n              href=\"\">\r\n              <img src=\"https://media.discordapp.net/attachments/1033283242121498625/1055520351569854474/logo_1.png\"\r\n                width=\"112\" height=\"28\">\r\n            </a>\r\n          </router-link>\r\n          <a role=\"button\" class=\"navbar-burger\" aria-label=\"menu\" aria-expanded=\"false\"\r\n            data-target=\"navbarBasicExample\">\r\n            <span aria-hidden=\"true\"></span>\r\n            <span aria-hidden=\"true\"></span>\r\n            <span aria-hidden=\"true\"></span>\r\n          </a>\r\n        </div>\r\n        <div id=\"navbarBasicExample\" class=\"navbar-menu\">\r\n          <!-- <div class=\"search\">\r\n            <input class=\"input\" type=\"text\" v-model=\"searchinput\" placeholder=\"Search anything that you wants . . . \">\r\n          </div>\r\n          <router-link to=\"/\" class=\"button is-black\">\r\n            <a class=\"navbar-item is-hoverable has-background-black\">\r\n              <font-awesome-icon icon=\"far fa-star\" />\r\n              <img src=\"https://media.discordapp.net/attachments/1033283242121498625/1053246514908123247/search.png\"\r\n                width=\"30\" height=\"28\" class=\"has-background-black\">\r\n            </a>\r\n          </router-link> -->\r\n          <div class=\"navbar-end\">\r\n            \r\n            <router-link class=\"navbar-item has-background-black\" to=\"/favorite\" v-if=\"user\">\r\n              <a class=\"navbar-item  is-hoverable has-background-black\">\r\n                <img src=\"https://media.discordapp.net/attachments/1033283242121498625/1053243132524908576/love.png\"\r\n                  width=\"30\" height=\"28\" class=\"has-background-black\">\r\n              </a>\r\n            </router-link>\r\n            <router-link class=\"navbar-item  has-background-black \" to=\"/customer/cart\" v-if=\"user\">\r\n              <a class=\"navbar-item is-hoverable has-background-black\">\r\n                <img\r\n                  src=\"https://media.discordapp.net/attachments/1033283242121498625/1053243132176760862/trolley-cart.png\"\r\n                  width=\"30\" height=\"28\" class=\"has-background-black\">\r\n              </a>\r\n            </router-link>\r\n            <router-link class=\"navbar-item  has-background-black \" to=\"/customer/myorder\" v-if=\"user\">\r\n              <a class=\"navbar-item is-hoverable has-background-black\">\r\n                <img src=\"https://cdn.discordapp.com/attachments/1033283242121498625/1054128439562616925/truck_1.png\"\r\n                  width=\"33\" height=\"33\" class=\"has-background-black\">\r\n              </a>\r\n            </router-link>\r\n            <button class=\"button mt-2 ml-2\" @click=\"logout()\" v-if=\"user\">\r\n                  <a>\r\n                    <strong class=\"has-text-black\">Log out</strong>\r\n                  </a>\r\n            </button>\r\n            <div class=\"navbar-item\" v-if=\"user == null\">\r\n              <div class=\"buttons\">\r\n                <router-link to=\"/user/loginseller\" class=\"button has-background-white-ter mr-6\">\r\n                  <a>\r\n                    <strong class=\"has-text-black\">Seller Center</strong>\r\n                  </a>\r\n                </router-link>\r\n                <router-link to=\"/user/signup\" class=\"button is-dark\">\r\n                  <a>\r\n                    <strong class=\"has-text-white\">Sign up</strong>\r\n                  </a>\r\n                </router-link>\r\n                <router-link to=\"/user/login\" class=\"button\">\r\n                  <a>\r\n                    <strong class=\"has-text-black\">Log in</strong>\r\n                  </a>\r\n                </router-link>\r\n              </div>\r\n            </div>\r\n            <div class=\"navbar-item\" v-else-if=\"user\">\r\n              <div class=\"buttons\">\r\n                <router-link to=\"/customer/profile\" class=\"button is-black\">\r\n                  <a>\r\n                    <strong class=\"has-text-white\">{{customer.name}}</strong>\r\n                  </a>\r\n                </router-link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n      <!-- หมวดหมู่ -->\r\n      <nav class=\"navbar has-background-grey-light is-justify-content-center\" role=\"navigation\"\r\n        aria-label=\"main navigation\">\r\n        <div class=\"navbar-brand\">\r\n          <a class=\"navbar-item\">เสื้อผ้า</a>\r\n          <a class=\"navbar-item \">สุขภาพ/ความงาม</a>\r\n          <a class=\"navbar-item\">สินค้าแม่และเด็ก</a>\r\n          <a class=\"navbar-item\">เครื่องใช้ในบ้าน</a>\r\n          <a class=\"navbar-item\">กีฬา/การเดินทาง</a>\r\n          <a class=\"navbar-item\">อุปกรณ์อิเล็กทรอนิกส์</a>\r\n        </div>\r\n      </nav>\r\n    </div>\r\n\r\n    <div v-else-if=\"user == false\">\r\n      <nav class=\"navbar has-background-black\" role=\"navigation\" aria-label=\"main navigation\">\r\n        <div class=\"navbar-brand\">\r\n          <router-link to=\"/seller/home\" class=\"navbar-item has-background-black\">\r\n            <a class=\"navbar-item\"\r\n            href=\"\">\r\n              <img src=\"https://media.discordapp.net/attachments/1033283242121498625/1055520351569854474/logo_1.png\"\r\n                width=\"112\" height=\"28\">\r\n            </a>\r\n          </router-link>\r\n        </div>\r\n        <div id=\"navbarBasicExample\" class=\"navbar-menu\">\r\n          <div class=\"navbar-end\">\r\n            <div class=\"navbar-item\"> \r\n              <div class=\"buttons\">\r\n                <button class=\"button \" @click=\"sellerlogout()\">\r\n                  <a>\r\n                    <strong class=\"has-text-black\">Log out</strong>\r\n                  </a>\r\n                </button>\r\n                <router-link to=\"/seller/profile\" class=\"button is-black\">\r\n                  <a>\r\n                    <strong class=\"has-text-white\">{{seller.name}}</strong>\r\n                  </a>\r\n                </router-link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n    </div>\r\n\r\n    <div id=\"app\">\r\n      <router-view :key=\"$route.fullPath\" />\r\n      <!-- <router-view v-slot=\"{ Component, route }\">\r\n        <component :is=\"Component\" :key=\"route.path.search\" />\r\n      </router-view> -->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from '@/plugins/axios'\r\n// import customerhome from \"./views/CustomerHome.vue\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      user: true,\r\n      customerId:null,\r\n      sellerId:null,\r\n      seller:{},\r\n      customer:{},\r\n      cusId:null,\r\n      selId:null,\r\n      // searchinput: customerhome.data().search = this.searchinput,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getCustomers()\r\n    this.statelogin()\r\n    this.checkUser()\r\n  },\r\n  methods: {\r\n    async getCustomers(){\r\n      this.sellerId = localStorage.getItem(\"sellerId\")\r\n      this.customerId = localStorage.getItem(\"customerId\")\r\n      await axios\r\n        .get(`http://localhost:8003/getCustomers`)\r\n        .then((res) => {\r\n          res.data.forEach(item => {\r\n            if(item._id == this.customerId){\r\n              this.customer = item\r\n            }\r\n          })\r\n        })\r\n        .catch((error) => {\r\n          alert(error.response.data.message)\r\n        });\r\n        await axios\r\n        .get(`http://localhost:8004/getSellers`)\r\n        .then((res) => {\r\n          res.data.forEach(item => {\r\n            if(item._id == this.sellerId){\r\n              this.seller = item\r\n            }\r\n          })\r\n        })\r\n        .catch((error) => {\r\n          alert(error.response.data.message)\r\n        });\r\n        this.checkUser()\r\n    },\r\n    checkUser(){\r\n      if (this.customerId == null && this.sellerId == null){\r\n        this.user = null\r\n      }\r\n      else if(this.customerId != null){\r\n        this.user = true\r\n      }\r\n      else if(this.sellerId != null){\r\n        this.user = false\r\n      }\r\n      \r\n    },\r\n    logout(){\r\n      localStorage.removeItem(\"customerId\")\r\n      this.$router.push({ path: \"/user/login\" });\r\n      location.reload();\r\n    },\r\n    sellerlogout(){\r\n      localStorage.removeItem(\"sellerId\")\r\n      this.$router.push({ path: \"/user/loginseller\" });\r\n      location.reload();\r\n    },\r\n    // statelogin(){\r\n    //   this.cusId = localStorage.getItem(\"customerId\")\r\n    //   this.selId = localStorage.getItem(\"sellerId\")\r\n    //   if(this.cusId == null){\r\n    //     alert(\"you are not login\")\r\n    //     this.$router.push({ path: \"/user/login\" })\r\n    //     this.selId = false\r\n    //   }\r\n    // }\r\n    \r\n    // Search() {\r\n    //  customerhome.data().search = this.searchinput;\r\n    // }\r\n    // getOrderAndTicket(id){\r\n    //   axios.get(`/order/ticket/${id}`)\r\n    //     .then((res) => {\r\n    //       this.order = res.data.order;\r\n    //       var getOrder = res.data.order\r\n    //       this.orderLength = getOrder.length\r\n    //     });\r\n    // },\r\n    // onAuthChange() {\r\n    //   const token = localStorage.getItem(\"token\");\r\n    //   if (token) {\r\n    //     this.getUser();\r\n    //   }\r\n    // },\r\n    // getUser() {\r\n    //   axios.get(\"/user/me\")\r\n    //     .then((res) => {\r\n    //       this.user = res.data;\r\n    //       this.getOrderAndTicket(this.user.cid)\r\n    //       console.log(this.user.role)\r\n    //     });\r\n    // },\r\n    // logout(){\r\n    //   this.user = null,\r\n    //   localStorage.removeItem(\"token\");\r\n    //   this.$router.push({path: '/user/login'})\r\n    // },\r\n    // isAdmin(){\r\n    //   if (!this.user) return false\r\n    //   return this.user.role == 'admin'\r\n    // },\r\n    // isCusto(){\r\n    //   if (!this.user) return false\r\n    //   return this.user.role == 'customer'\r\n    // }\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@300&family=Prompt:wght@200;300;500&display=swap');\r\n\r\n#app {\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n  margin-top: 60px;\r\n  font-family: 'Noto Sans Thai', sans-serif;\r\n  font-family: 'Prompt', sans-serif;\r\n}\r\n\r\n#wrapper {\r\n  width: auto;\r\n  height: 100%;\r\n  background-color: white;\r\n  /* background-image: linear-gradient(rgb(0, 0, 0), rgb(1, 35, 37), rgb(0, 0, 0)); */\r\n  height: 100%;\r\n}\r\n\r\n* {\r\n  font-family: 'Noto Sans Thai', sans-serif;\r\n  font-family: 'Prompt', sans-serif;\r\n}\r\n\r\n.listmovie:hover {\r\n  transform: scale(1.03);\r\n  transition: 0.3s;\r\n}\r\n\r\n.search {\r\n  margin-top: 0.5%;\r\n  margin-left: 3%;\r\n  width: 45%;\r\n}\r\n\r\n.iconimg:hover {\r\n  background-color: black;\r\n}\r\n\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}