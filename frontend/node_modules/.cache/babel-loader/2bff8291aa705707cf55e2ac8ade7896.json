{"ast":null,"code":"import \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.function.name.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from '@/plugins/axios';\nexport default {\n  name: \"app\",\n  props: [\"user\"],\n  data: function data() {\n    return {\n      searchinput: \"\",\n      cusId: null,\n      product: [],\n      // order: \"show_date\",\n      // theatre: \"none\",\n      listProducts: []\n    };\n  },\n  mounted: function mounted() {\n    window.scrollTo(0, 0); // this.getMovie();\n\n    this.getProducts();\n  },\n  methods: {\n    getProducts: function getProducts() {\n      var _this = this;\n\n      axios.get(\"http://localhost:8001/getProducts\").then(function (res) {\n        _this.listProducts = res.data;\n      }).catch(function (error) {\n        alert(error.response.data.message);\n      });\n    },\n    Search: function Search() {\n      var _this2 = this;\n\n      // if (this.searchinput != \"\") {\n      //   this.listProducts = this.listProducts.filter((item) => item.name.toLowerCase().includes(this.searchinput.toLowerCase()));\n      // }\n      axios.get(\"http://localhost:8001/getProducts\").then(function (res) {\n        _this2.listProducts = res.data;\n\n        if (_this2.searchinput != \"\") {\n          _this2.listProducts = _this2.listProducts.filter(function (item) {\n            return item.name.toLowerCase().includes(_this2.searchinput.toLowerCase());\n          });\n        }\n      }).catch(function (error) {\n        alert(error.response.data.message);\n      });\n    },\n    // getMovie() {\n    //   axios\n    //     .get(\"http://localhost:3000/\", {\n    //       params: {\n    //         search: this.search,\n    //         order: this.order,\n    //         theatre: this.theatre,\n    //       },\n    //     })\n    //     .then((response) => {\n    //       this.movie = response.data;\n    //       for (var i = 0; i < this.movie.length; i++) {\n    //         this.movie[i].show_date = new Date(this.movie[i].show_date).toDateString()\n    //       }\n    //     })\n    //     .catch((err) => {\n    //       console.log(err);\n    //     });\n    // },\n    image: function image(file_path) {\n      if (file_path) {\n        return \"http://localhost:3000/\" + file_path;\n      } else {\n        return \"https://bulma.io/images/placeholders/640x360.png\";\n      }\n    },\n    isAdmin: function isAdmin() {\n      if (!this.user) return false;\n      return this.user.role == 'admin';\n    },\n    isCusto: function isCusto() {\n      if (!this.user) return false;\n      return this.user.role == 'customer';\n    },\n    statelogin: function statelogin() {\n      this.cusId = localStorage.getItem(\"customerId\");\n\n      if (this.cusId == null) {\n        alert(\"you are not login\");\n        this.$router.push({\n          path: \"/user/login\"\n        });\n      }\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EA;AACA;AACAA,aADA;AAEAC,iBAFA;AAGAC,MAHA,kBAGA;AACA;AACAC,qBADA;AAEAC,iBAFA;AAGAC,iBAHA;AAIA;AACA;AAEAC;AAPA;AASA,GAbA;AAcAC,SAdA,qBAcA;AACAC,0BADA,CAEA;;AAEA;AACA,GAnBA;AAoBAC;AACAC,eADA,yBACA;AAAA;;AACAC,YACAC,GADA,sCAEAC,IAFA,CAEA;AACA;AACA,OAJA,EAKAC,KALA,CAKA;AACAC;AACA,OAPA;AAQA,KAVA;AAWAC,UAXA,oBAWA;AAAA;;AACA;AACA;AACA;AACAL,YACAC,GADA,sCAEAC,IAFA,CAEA;AACA;;AAEA;AACA;AAAA;AAAA;AACA;AACA,OARA,EASAC,KATA,CASA;AACAC;AACA,OAXA;AAYA,KA3BA;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAE,SA/CA,iBA+CAC,SA/CA,EA+CA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KArDA;AAsDAC,WAtDA,qBAsDA;AACA;AACA;AACA,KAzDA;AA0DAC,WA1DA,qBA0DA;AACA;AACA;AACA,KA7DA;AA8DAC,cA9DA,wBA8DA;AACA;;AACA;AACAN;AACA;AAAAO;AAAA;AACA;AACA;AApEA;AApBA","names":["name","props","data","searchinput","cusId","product","listProducts","mounted","window","methods","getProducts","axios","get","then","catch","alert","Search","image","file_path","isAdmin","isCusto","statelogin","path"],"sourceRoot":"src/views","sources":["CustomerHome.vue"],"sourcesContent":["<template>\r\n\r\n  <body class='homepage'>\r\n    <div class=\"container is-widescreen\">\r\n      <section class=\"section\">\r\n\r\n        <div class=\"columns mb-6 is-justify-content-center\">\r\n          <input class=\"input column is-6 is-align-self-center\" type=\"text\" v-model=\"searchinput\" id=\"testborder\"\r\n            placeholder=\"Search anything that you wants . . . \"> \r\n          <div class=\"btnsearc column is-1\" @click=\"Search()\">\r\n            <a class=\"navbar-item\">\r\n              <img src=\"https://cdn.discordapp.com/attachments/1033283242121498625/1054774681930047518/search.png\"\r\n                class=\"imgsearch\">\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <div class=\"content\">\r\n\r\n          <h1 class=\"title has-text-left\">สินค้าทั้งหมด</h1>\r\n          <h1 class=\"title has-text-left\">{{ search }}</h1>\r\n\r\n          <!-- ลองหน้าของ seller -->\r\n          <!-- <span>\r\n            <router-link class=\"has-text-dark\" id='button' to=\"/seller/home\">Seller Home</router-link>\r\n          </span>\r\n          <br />\r\n          <span>\r\n            <router-link class=\"has-text-dark\" id='button' to=\"/customer/profile\">Customer Profile</router-link>\r\n          </span>\r\n          <br />\r\n          <span>\r\n            <router-link class=\"has-text-dark\" id='button' to=\"/seller/profile\">Seller Profile</router-link>\r\n          </span> -->\r\n\r\n          <div class=\"columns is-multiline\">\r\n            <div class=\"column is-3\" v-for=\"(item, index) in listProducts\" :key=\"index\">\r\n              <div class=\"card\">\r\n                <div class=\"card-image pt-4\">\r\n                  <figure>\r\n                    <img\r\n                    class=\"imaproduct\"\r\n                      :src=\"item.photo\"\r\n                      alt=\"\">\r\n                  </figure>\r\n                </div>\r\n                <div class=\"card-content\">\r\n                  <div class=\"text\">\r\n                    <h4>{{ item.name }}</h4>\r\n                  </div>\r\n                  <div class=\"text\">{{ item.detail }}</div>\r\n                  <!-- <div class=\"content zonecon\" v-if=\"item.type.length > 1\">\r\n                    <span>฿</span>\r\n                    {{ item.type[0].price }} - {{ item.type[item.type.length - 1].price }}\r\n                  </div>\r\n                  <div class=\"content zonecon\" v-else>\r\n                    <span>฿</span>\r\n                    {{ item.type.price }}\r\n                  </div> -->\r\n                  <div class=\"content zonecon\">\r\n                    <span>฿ </span>\r\n                    {{ item.type[0].price }}\r\n                  </div>\r\n                </div>\r\n                <footer class=\"card-footer\">\r\n                  <router-link class=\"card-footer-item has-text-dark\" id='button'\r\n                    :to=\"`/detail/${item._id}`\">Details</router-link>\r\n                </footer>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  </body>\r\n</template>\r\n\r\n<script>\r\nimport axios from '@/plugins/axios'\r\nexport default {\r\n  name: \"app\",\r\n  props: [\"user\"],\r\n  data() {\r\n    return {\r\n      searchinput: \"\",\r\n      cusId:null,\r\n      product: [],\r\n      // order: \"show_date\",\r\n      // theatre: \"none\",\r\n\r\n      listProducts:[]\r\n    };\r\n  },\r\n  mounted() {\r\n    window.scrollTo(0, 0)\r\n    // this.getMovie();\r\n\r\n    this.getProducts()\r\n  },\r\n  methods: {\r\n    getProducts() {\r\n      axios\r\n        .get(`http://localhost:8001/getProducts`)\r\n        .then((res) => {\r\n          this.listProducts = res.data\r\n        })\r\n        .catch((error) => {\r\n          alert(error.response.data.message)\r\n        });\r\n    },\r\n    Search() {\r\n      // if (this.searchinput != \"\") {\r\n      //   this.listProducts = this.listProducts.filter((item) => item.name.toLowerCase().includes(this.searchinput.toLowerCase()));\r\n      // }\r\n      axios\r\n        .get(`http://localhost:8001/getProducts`)\r\n        .then((res) => {\r\n          this.listProducts = res.data\r\n\r\n          if (this.searchinput != \"\") {\r\n            this.listProducts = this.listProducts.filter((item) => item.name.toLowerCase().includes(this.searchinput.toLowerCase()));\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          alert(error.response.data.message)\r\n        });\r\n    },\r\n    // getMovie() {\r\n    //   axios\r\n    //     .get(\"http://localhost:3000/\", {\r\n    //       params: {\r\n    //         search: this.search,\r\n    //         order: this.order,\r\n    //         theatre: this.theatre,\r\n    //       },\r\n    //     })\r\n    //     .then((response) => {\r\n    //       this.movie = response.data;\r\n    //       for (var i = 0; i < this.movie.length; i++) {\r\n    //         this.movie[i].show_date = new Date(this.movie[i].show_date).toDateString()\r\n    //       }\r\n    //     })\r\n    //     .catch((err) => {\r\n    //       console.log(err);\r\n    //     });\r\n    // },\r\n    image(file_path) {\r\n      if (file_path) {\r\n        return \"http://localhost:3000/\" + file_path;\r\n      } else {\r\n        return \"https://bulma.io/images/placeholders/640x360.png\";\r\n      }\r\n    },\r\n    isAdmin() {\r\n      if (!this.user) return false\r\n      return this.user.role == 'admin'\r\n    },\r\n    isCusto() {\r\n      if (!this.user) return false\r\n      return this.user.role == 'customer'\r\n    },\r\n    statelogin(){\r\n      this.cusId = localStorage.getItem(\"customerId\")\r\n      if(this.cusId == null){\r\n        alert(\"you are not login\")\r\n        this.$router.push({ path: \"/user/login\" })\r\n      }\r\n    }\r\n\r\n  },\r\n};\r\n</script>\r\n<style>\r\n.card {\r\n  width: 100%;\r\n  background-color: rgb(251, 251, 251);\r\n  /* border-radius: 20px; */\r\n  padding-top: 20px;\r\n  border: 3px solid black;\r\n  border-image-source: linear-gradient(to bottom, #363636, #575757, #b3b3b3);\r\n  border-image-slice: 1;\r\n}\r\n.imaproduct {\r\n  height: 220px;\r\n  object-fit: cover;\r\n}\r\n\r\n.btnsearch:hover {\r\n  background-color: white;\r\n}\r\n\r\n#testborder {\r\n   border-width: 3px;\r\n   border-radius: 25px;\r\n   border-color: rgb(142, 143, 146);\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}