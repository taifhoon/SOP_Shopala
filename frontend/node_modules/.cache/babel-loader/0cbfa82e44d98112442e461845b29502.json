{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"@/plugins/axios\";\nexport default {\n  name: \"App\",\n  data: function data() {\n    return {\n      listCustomers: [],\n      username: \"\",\n      email: \"\",\n      password: \"\",\n      incorrect: \"\",\n      role: \"\"\n    };\n  },\n  mounted: function mounted() {\n    this.getCustomers();\n  },\n  methods: {\n    getCustomers: function getCustomers() {\n      var _this = this;\n\n      axios.get(\"http://localhost:8003/getCustomers\").then(function (res) {\n        _this.listCustomers = res.data;\n      }).catch(function (error) {\n        alert(error.response.data.message);\n      });\n    },\n    submit: function submit() {\n      var _this2 = this;\n\n      var check = false;\n      this.listCustomers.forEach(function (cus) {\n        if (cus.email == _this2.email && cus.password == _this2.password) {\n          alert(\"Login \");\n          localStorage.setItem(\"customerId\", cus._id);\n          check = true;\n\n          _this2.$router.push({\n            path: \"/\"\n          });\n        }\n      });\n\n      if (!check) {\n        console.log(\"incorrect Email or Password\");\n      } // if (!this.role) {\n      //   alert(\"Please choose role to login.\")\n      //   return\n      // }\n      // const data = {\n      //   username: this.email,\n      //   password: this.password,\n      //   role: this.role,\n      // };\n      // axios\n      //   .post(\"http://localhost:3000/user/login/\", data)\n      //   .then((res) => {\n      //     const token = res.data.token;\n      //     localStorage.setItem(\"token\", token);\n      //     this.$emit(\"auth-change\");\n      //     this.$router.push({ path: \"/\" });\n      //   })\n      //   .catch((error) => {\n      //     this.error = error.response.data;\n      //     console.log(error.response.data);\n      //   });\n\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;AACAA,aADA;AAEAC,MAFA,kBAEA;AACA;AACAC,uBADA;AAEAC,kBAFA;AAGAC,eAHA;AAIAC,kBAJA;AAKAC,mBALA;AAMAC;AANA;AAQA,GAXA;AAYAC,SAZA,qBAYA;AACA;AACA,GAdA;AAeAC;AACAC,gBADA,0BACA;AAAA;;AACAC,YACAC,GADA,uCAEAC,IAFA,CAEA;AACA;AACA,OAJA,EAKAC,KALA,CAKA;AACAC;AACA,OAPA;AAQA,KAVA;AAWAC,UAXA,oBAWA;AAAA;;AACA;AACA;AACA;AACAD;AACAE;AACAC;;AACA;AAAAC;AAAA;AACA;AACA,OAPA;;AAQA;AACAC;AACA,OAZA,CAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AA/CA;AAfA","names":["name","data","listCustomers","username","email","password","incorrect","role","mounted","methods","getCustomers","axios","get","then","catch","alert","submit","localStorage","check","path","console"],"sourceRoot":"src/views","sources":["Login.vue"],"sourcesContent":["<template>\r\n  <section class=\"hero is-white\">\r\n    <div class=\"hero-body\">\r\n      <div class=\"container\">\r\n        <p class=\"title \">Login Customer</p>\r\n        <div class=\"columns is-centered\">\r\n          <div class=\"\r\n              column\r\n              is-5-tablet is-4-desktop is-3-widescreen\r\n              box\r\n              has-background-grey-light\r\n            \">\r\n            <div class=\"field\">\r\n              <label for=\"\" class=\"label\">Email</label>\r\n              <div class=\"control has-icons-left\">\r\n                <input v-model=\"email\" type=\"email\" placeholder=\"youremail@hotmail.com\" class=\"input\" required />\r\n                <span class=\"icon is-small is-left\">\r\n                  <i class=\"fa fa-envelope\"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div class=\"field\">\r\n              <label for=\"\" class=\"label\">Password</label>\r\n              <div class=\"control has-icons-left\">\r\n                <input v-model=\"password\" type=\"password\" placeholder=\"*******\" class=\"input\" required />\r\n                <span class=\"icon is-small is-left\">\r\n                  <i class=\"fa fa-lock\"></i>\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <!-- <div class=\"field\">\r\n              <div class=\"control\">\r\n                <label class=\"radio\">\r\n                  <input type=\"radio\" name=\"login\" value=\"admin\" v-model=\"role\">\r\n                  Admin\r\n                </label>\r\n                <label class=\"radio\">\r\n                  <input type=\"radio\" name=\"login\" value=\"customer\" v-model=\"role\">\r\n                  Customer\r\n                </label>\r\n              </div>\r\n            </div> -->\r\n            <div class=\"field\">\r\n              <button class=\"button has-background-black is-outlined\" @click=\"submit\">\r\n                <strong class=\"has-text-white\">Log in</strong>\r\n              </button>\r\n              {{ incorrect }}\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n        <p class=\"my-3\">\r\n          Don't have an account yet? \r\n          <router-link to=\"/user/signup\" >\r\n          <a class='loginbutton'>Signup</a>\r\n          </router-link>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </section>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"@/plugins/axios\";\r\nexport default {\r\n  name: \"App\",\r\n  data() {\r\n    return {\r\n      listCustomers:[],\r\n      username: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n      incorrect: \"\",\r\n      role: \"\",\r\n    };\r\n  },\r\n  mounted(){\r\n    this.getCustomers()\r\n  },\r\n  methods: {\r\n    getCustomers(){\r\n      axios\r\n        .get(`http://localhost:8003/getCustomers`)\r\n        .then((res) => {\r\n          this.listCustomers = res.data\r\n        })\r\n        .catch((error) => {\r\n          alert(error.response.data.message)\r\n        });\r\n    },\r\n    submit() {\r\n      var check = false\r\n      this.listCustomers.forEach(cus => {\r\n        if (cus.email == this.email && cus.password == this.password){\r\n          alert(\"Login \")\r\n          localStorage.setItem(\"customerId\", cus._id);\r\n          check = true\r\n          this.$router.push({ path: \"/\" });\r\n        }\r\n      })\r\n      if (!check){\r\n        console.log(\"incorrect Email or Password\")\r\n      }\r\n      \r\n      // if (!this.role) {\r\n      //   alert(\"Please choose role to login.\")\r\n      //   return\r\n      // }\r\n      // const data = {\r\n      //   username: this.email,\r\n      //   password: this.password,\r\n      //   role: this.role,\r\n      // };\r\n\r\n      // axios\r\n      //   .post(\"http://localhost:3000/user/login/\", data)\r\n      //   .then((res) => {\r\n      //     const token = res.data.token;\r\n      //     localStorage.setItem(\"token\", token);\r\n      //     this.$emit(\"auth-change\");\r\n      //     this.$router.push({ path: \"/\" });\r\n      //   })\r\n      //   .catch((error) => {\r\n      //     this.error = error.response.data;\r\n      //     console.log(error.response.data);\r\n      //   });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n  margin-top: 60px;\r\n}\r\n.loginbutton{\r\n  color: #3273dc;\r\n  cursor: pointer;\r\n  text-decoration: none;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}