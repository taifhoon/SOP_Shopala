{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from '@/plugins/axios';\nimport main from \"@/components/../App.vue\";\nexport default {\n  name: \"app\",\n  props: ['user'],\n  data: function data() {\n    return {\n      search: \"\",\n      movie: [],\n      order: \"show_date\",\n      theatre: \"none\",\n      test: \"\",\n      listProducts: [{\n        \"_id\": \"a1bba32a-e382-48fc-b4d7-ee2931bac028\",\n        \"name\": \"iphone 9\",\n        \"photo\": \"hello\",\n        \"sellerId\": \"fffffffffffffffffffffff\",\n        \"detail\": \"ippp\",\n        \"type\": [{\n          \"price\": \"32900\",\n          \"color\": \"black\",\n          \"size\": \"128GB\",\n          \"quantity\": 5\n        }, {\n          \"price\": \"39900\",\n          \"color\": \"blue\",\n          \"size\": \"128GB\",\n          \"quantity\": 3\n        }]\n      }, {\n        \"_id\": \"e8fbfb5b-990d-46e9-8832-9a4a78c2a616\",\n        \"name\": \"iphone XR\",\n        \"detail\": \"XR\",\n        \"photo\": \"hello\",\n        \"sellerId\": \"fffffffffffffffffffffff\",\n        \"type\": [{\n          \"price\": \"41900\",\n          \"color\": \"silver\",\n          \"size\": \"256GB\",\n          \"quantity\": 9\n        }, {\n          \"price\": \"39900\",\n          \"color\": \"gold\",\n          \"size\": \"128GB\",\n          \"quantity\": 4\n        }]\n      }]\n    };\n  },\n  mounted: function mounted() {\n    window.scrollTo(0, 0);\n    this.getMovie();\n    this.getProducts(); // this.test = this.$route.params.id;\n  },\n  methods: {\n    getProducts: function getProducts() {\n      var _this = this;\n\n      axios.get(\"http://localhost:8001/getProducts\").then(function (res) {\n        _this.listProducts = res.data;\n      }).catch(function (error) {\n        alert(error.response.data.message);\n      });\n    },\n    // getMovie() {\n    //   axios\n    //     .get(\"http://localhost:3000/\", {\n    //       params: {\n    //         search: this.search,\n    //         order: this.order,\n    //         theatre: this.theatre,\n    //       },\n    //     })\n    //     .then((response) => {\n    //       this.movie = response.data;\n    //       for (var i = 0; i < this.movie.length; i++) {\n    //         this.movie[i].show_date = new Date(this.movie[i].show_date).toDateString()\n    //       }\n    //     })\n    //     .catch((err) => {\n    //       console.log(err);\n    //     });\n    // },\n    image: function image(file_path) {\n      if (file_path) {\n        return \"http://localhost:3000/\" + file_path;\n      } else {\n        return \"https://bulma.io/images/placeholders/640x360.png\";\n      }\n    },\n    isAdmin: function isAdmin() {\n      if (!this.user) return false;\n      return this.user.role == 'admin';\n    },\n    isCusto: function isCusto() {\n      if (!this.user) return false;\n      return this.user.role == 'customer';\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA;AACA;AACA;AACAA,aADA;AAEAC,iBAFA;AAGAC,MAHA,kBAGA;AACA;AACAC,gBADA;AAEAC,eAFA;AAGAC,wBAHA;AAIAC,qBAJA;AAMAC,cANA;AAQAC;AACA,qDADA;AAEA,0BAFA;AAGA,wBAHA;AAIA,6CAJA;AAKA,wBALA;AAMA,iBACA;AACA,0BADA;AAEA,0BAFA;AAGA,yBAHA;AAIA;AAJA,SADA,EAOA;AACA,0BADA;AAEA,yBAFA;AAGA,yBAHA;AAIA;AAJA,SAPA;AANA,SAqBA;AACA,qDADA;AAEA,2BAFA;AAGA,sBAHA;AAIA,wBAJA;AAKA,6CALA;AAMA,iBACA;AACA,0BADA;AAEA,2BAFA;AAGA,yBAHA;AAIA;AAJA,SADA,EAOA;AACA,0BADA;AAEA,yBAFA;AAGA,yBAHA;AAIA;AAJA,SAPA;AANA,OArBA;AARA;AAmDA,GAvDA;AAwDAC,SAxDA,qBAwDA;AACAC;AACA;AAEA,uBAJA,CAKA;AACA,GA9DA;AA+DAC;AACAC,eADA,yBACA;AAAA;;AACAC,YACAC,GADA,sCAEAC,IAFA,CAEA;AACA;AACA,OAJA,EAKAC,KALA,CAKA;AACAC;AACA,OAPA;AAQA,KAVA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,SA9BA,iBA8BAC,SA9BA,EA8BA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KApCA;AAqCAC,WArCA,qBAqCA;AACA;AACA;AACA,KAxCA;AAyCAC,WAzCA,qBAyCA;AACA;AACA;AACA;AA5CA;AA/DA","names":["name","props","data","search","movie","order","theatre","test","listProducts","mounted","window","methods","getProducts","axios","get","then","catch","alert","image","file_path","isAdmin","isCusto"],"sourceRoot":"src/views","sources":["CustomerHome.vue"],"sourcesContent":["<template>\r\n\r\n  <body class='homepage'>\r\n    <div class=\"container is-widescreen\">\r\n      <section class=\"section\">\r\n        <div class=\"content\">\r\n          <h1 class=\"title has-text-left\">สินค้าแนะนำ</h1>\r\n          <h1 class=\"title has-text-left\">{{ test }}</h1>\r\n\r\n          <!-- ลองหน้าของ seller -->\r\n          <span>\r\n            <router-link class=\"has-text-dark\" id='button' to=\"/seller/home\">Seller Home</router-link>\r\n          </span>\r\n          <br/>\r\n          <span>\r\n            <router-link class=\"has-text-dark\" id='button' to=\"/customer/profile\">Customer Profile</router-link>\r\n          </span>\r\n          <br/>\r\n          <span>\r\n            <router-link class=\"has-text-dark\" id='button' to=\"/seller/profile\">Seller Profile</router-link>\r\n          </span>\r\n\r\n          <div class=\"columns is-multiline\">\r\n            <div class=\"column is-3\" v-for=\"(item, index) in listProducts\" :key=\"index\">\r\n              <div class=\"card\" id=\"card1\">\r\n                <div class=\"card-image pt-4\">\r\n                  <figure>\r\n                    <img\r\n                      src=\"https://twicpics.celine.com/product-prd/images/large/344893602C.38NO_1_WIN21.jpg?twic=v1/cover=1:1/resize-max=480\"\r\n                      alt=\"\">\r\n                  </figure>\r\n                </div>\r\n                <div class=\"card-content\">\r\n                  <div class=\"text\"><h4>{{ item.name }}</h4></div>\r\n                  <div class=\"text\">{{ item.detail }}</div>\r\n                  <div class=\"content zonecon\" v-if=\"item.type.length >= 1\">\r\n                    <span>฿</span>\r\n                    {{ item.type[0].price }} - {{ item.type[item.type.length-1].price }}\r\n                  </div>\r\n                </div>\r\n                <footer class=\"card-footer\">\r\n                  <router-link class=\"card-footer-item has-text-dark\" id='button' :to=\"`/detail/${item._id}`\">Details</router-link>\r\n                </footer>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  </body>\r\n</template>\r\n\r\n<script>\r\nimport axios from '@/plugins/axios'\r\nimport main from \"@/components/../App.vue\";\r\nexport default {\r\n  name: \"app\",\r\n  props: ['user'],\r\n  data() {\r\n    return {\r\n      search: \"\",\r\n      movie: [],\r\n      order: \"show_date\",\r\n      theatre: \"none\",\r\n\r\n      test: \"\",\r\n\r\n      listProducts: [{\r\n        \"_id\": \"a1bba32a-e382-48fc-b4d7-ee2931bac028\",\r\n        \"name\": \"iphone 9\",\r\n        \"photo\": \"hello\",\r\n        \"sellerId\": \"fffffffffffffffffffffff\",\r\n        \"detail\": \"ippp\",\r\n        \"type\": [\r\n          {\r\n            \"price\": \"32900\",\r\n            \"color\": \"black\",\r\n            \"size\": \"128GB\",\r\n            \"quantity\": 5\r\n          },\r\n          {\r\n            \"price\": \"39900\",\r\n            \"color\": \"blue\",\r\n            \"size\": \"128GB\",\r\n            \"quantity\": 3\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"_id\": \"e8fbfb5b-990d-46e9-8832-9a4a78c2a616\",\r\n        \"name\": \"iphone XR\",\r\n        \"detail\": \"XR\",\r\n        \"photo\": \"hello\",\r\n        \"sellerId\": \"fffffffffffffffffffffff\",\r\n        \"type\": [\r\n          {\r\n            \"price\": \"41900\",\r\n            \"color\": \"silver\",\r\n            \"size\": \"256GB\",\r\n            \"quantity\": 9\r\n          },\r\n          {\r\n            \"price\": \"39900\",\r\n            \"color\": \"gold\",\r\n            \"size\": \"128GB\",\r\n            \"quantity\": 4\r\n          }\r\n        ]\r\n      }]\r\n    };\r\n  },\r\n  mounted() {\r\n    window.scrollTo(0, 0)\r\n    this.getMovie();\r\n\r\n    this.getProducts()\r\n    // this.test = this.$route.params.id;\r\n  },\r\n  methods: {\r\n    getProducts() {\r\n      axios\r\n        .get(`http://localhost:8001/getProducts`)\r\n        .then((res) => {\r\n          this.listProducts = res.data\r\n        })\r\n        .catch((error) => {\r\n          alert(error.response.data.message)\r\n        });\r\n    },\r\n    // getMovie() {\r\n    //   axios\r\n    //     .get(\"http://localhost:3000/\", {\r\n    //       params: {\r\n    //         search: this.search,\r\n    //         order: this.order,\r\n    //         theatre: this.theatre,\r\n    //       },\r\n    //     })\r\n    //     .then((response) => {\r\n    //       this.movie = response.data;\r\n    //       for (var i = 0; i < this.movie.length; i++) {\r\n    //         this.movie[i].show_date = new Date(this.movie[i].show_date).toDateString()\r\n    //       }\r\n    //     })\r\n    //     .catch((err) => {\r\n    //       console.log(err);\r\n    //     });\r\n    // },\r\n    image(file_path){\r\n        if (file_path) {\r\n        return \"http://localhost:3000/\" + file_path;\r\n      } else {\r\n        return \"https://bulma.io/images/placeholders/640x360.png\";\r\n      }\r\n    },\r\n    isAdmin(){\r\n      if (!this.user) return false\r\n      return this.user.role == 'admin'\r\n    },\r\n    isCusto(){\r\n      if (!this.user) return false\r\n      return this.user.role == 'customer'\r\n    }\r\n\r\n  },\r\n};\r\n</script>\r\n<style>\r\n#card1 {\r\n  width: 100%;\r\n  background-color: rgb(213, 215, 218);\r\n  border-radius: 15px;\r\n  padding-top: 20px;\r\n\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}